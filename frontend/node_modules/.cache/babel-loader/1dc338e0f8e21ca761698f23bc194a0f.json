{"ast":null,"code":"var _jsxFileName = \"/home/guys/Documents/shifts-ui/src/components/page-admin/Main.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Jumbotron, Container, Row, Col, Table, Button, Form } from 'react-bootstrap';\nimport _ from 'lodash';\nimport Item from './List Item';\n\nfunction App() {\n  const form = useRef();\n  const [bakarim, setBakarim] = useState([]);\n  const [original, setOriginal] = useState();\n  const [isEditable, setisEditable] = useState(false);\n  useEffect(() => {\n    fetch('/getemployees', {\n      method: 'GET'\n    }).then(res => res.json()).then(data => {\n      setBakarim(data['all_emps']);\n      setOriginal(_.clone(data['all_emps']));\n    }).catch(error => alert(error));\n  }, []);\n\n  const saveChanges = e => {\n    let length = bakarim ? bakarim.length : 0;\n    let data = new FormData(form.current);\n    fetch('/submitemployees?num_of_emps=' + length, {\n      method: 'POST',\n      body: data\n    }).then(res => res).then(data => {}).catch(error => alert(error));\n    setisEditable(false);\n  };\n\n  const cancelChanges = () => {\n    setBakarim(original);\n    setisEditable(false);\n  };\n\n  const addBakar = () => {\n    setBakarim([...bakarim, {}]);\n  };\n\n  const removeBakar = id => {\n    let newBakarim = bakarim.filter((val, key) => key !== id);\n    setBakarim(newBakarim);\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    ref: form,\n    onSubmit: saveChanges,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    onClick: () => alert(JSON.stringify(bakarim)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 42\n    }\n  }, \"\\u05E8\\u05E9\\u05D9\\u05DE\\u05EA \\u05D1\\u05E7\\u05E8\\u05D9\\u05DD\"))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, !isEditable ? /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-primary\",\n    onClick: () =>\n    /*setisEditable(true)*/\n    alert(\"Work In Progress\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 33\n    }\n  }, \"\\u05E2\\u05E8\\u05D5\\u05DA\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-success\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 37\n    }\n  }, \"\\u05E9\\u05DE\\u05D9\\u05E8\\u05D4\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-secondary\",\n    onClick: cancelChanges,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 37\n    }\n  }, \"\\u05D1\\u05D9\\u05D8\\u05D5\\u05DC\"))), /*#__PURE__*/React.createElement(Row, {\n    className: \"text-align-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 41\n    }\n  }, \"\\u05E9\\u05DD \\u05DE\\u05DC\\u05D0\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 41\n    }\n  }, \"\\u05E9\\u05DD \\u05DE\\u05E7\\u05D5\\u05E6\\u05E8\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 41\n    }\n  }, \"\\u05E6\\u05D1\\u05E2\"), isEditable && bakarim.length > 0 && /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 78\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  }, bakarim.map((bakar, index) => /*#__PURE__*/React.createElement(Item, {\n    data: bakar,\n    lineNumber: index + 1,\n    isEditable: isEditable,\n    removeSelf: () => removeBakar(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 41\n    }\n  })), isEditable && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-primary\",\n    onClick: addBakar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 49\n    }\n  }, \"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05D1\\u05E7\\u05E8 \\u05D7\\u05D3\\u05E9\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 45\n    }\n  }), bakarim.length > 0 && /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 68\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 45\n    }\n  })))))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/guys/Documents/shifts-ui/src/components/page-admin/Main.js"],"names":["React","useState","useEffect","useRef","Jumbotron","Container","Row","Col","Table","Button","Form","_","Item","App","form","bakarim","setBakarim","original","setOriginal","isEditable","setisEditable","fetch","method","then","res","json","data","clone","catch","error","alert","saveChanges","e","length","FormData","current","body","cancelChanges","addBakar","removeBakar","id","newBakarim","filter","val","key","JSON","stringify","map","bakar","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\nimport {Jumbotron, Container, Row, Col, Table, Button, Form} from 'react-bootstrap'\nimport _ from 'lodash'\nimport Item from './List Item'\n\nfunction App() {\n    const form = useRef()\n    const [bakarim, setBakarim] = useState([])\n    const [original, setOriginal] = useState()\n    const [isEditable, setisEditable] = useState(false)\n\n    useEffect(() => {\n        fetch('/getemployees', {method: 'GET'})\n        .then(res => res.json())\n        .then(data => {\n            setBakarim(data['all_emps'])\n            setOriginal(_.clone(data['all_emps']))\n        })\n        .catch(error => alert(error))\n    }, [])\n\n    const saveChanges = (e) => {\n        let length = bakarim ? bakarim.length : 0\n        let data = new FormData(form.current)\n        fetch('/submitemployees?num_of_emps='+length, {method: 'POST', body: data})\n        .then(res => res)\n        .then(data => {\n        })\n        .catch(error => alert(error))\n\n        setisEditable(false)\n    }\n\n    const cancelChanges = () => {\n        setBakarim(original)\n        setisEditable(false)\n    }\n\n    const addBakar = () => {\n        setBakarim([...bakarim, {}])\n    }\n\n    const removeBakar = (id) => {\n        let newBakarim = bakarim.filter((val, key) => key !== id)\n        setBakarim(newBakarim)\n    }\n\n    return (\n        <main>\n            <Jumbotron>\n                <Container fluid>\n                    <Form ref={form} onSubmit={saveChanges}>\n                        <Row>\n                            <Col md=\"12\"><h3 onClick={() => alert(JSON.stringify(bakarim))}>רשימת בקרים</h3></Col>\n                        </Row>\n                        <Row>\n                            {!isEditable ?\n                                <Button variant=\"outline-primary\" onClick={() => /*setisEditable(true)*/ alert(\"Work In Progress\")}>ערוך</Button>\n                            :\n                                <>\n                                    <br />\n                                    <Button variant=\"outline-success\" type=\"submit\">שמירה</Button>\n                                    <Button variant=\"outline-secondary\" onClick={cancelChanges}>ביטול</Button>\n                                </>\n                            }\n                        </Row>\n                        <Row className='text-align-right'>\n                            <Table striped bordered hover>\n                                <thead>\n                                    <tr>\n                                        <th></th>\n                                        <th>שם מלא</th>\n                                        <th>שם מקוצר</th>\n                                        <th>צבע</th>\n                                        {isEditable && bakarim.length > 0 && <th/>}\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {bakarim.map((bakar, index) => (\n                                        <Item\n                                            data={bakar}\n                                            lineNumber={index+1}\n                                            isEditable={isEditable}\n                                            removeSelf={() => removeBakar(index)} />\n                                    ))}\n                                    {isEditable &&\n                                        <tr>\n                                            <td />\n                                            <td><Button variant=\"outline-primary\" onClick={addBakar}>הוסף בקר חדש</Button></td>\n                                            <td />\n                                            {bakarim.length > 0 && <td />}\n                                            <td />\n                                        </tr>\n                                    }\n                                </tbody>\n                            </Table>\n                        </Row>\n                    </Form>\n                </Container>\n            </Jumbotron>\n        </main>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}